import { useState } from "react";
import PaymentContainer from "../components/PaymentForm/Container";
import CountdownContainer from "../components/Countdown/Container";
import TicTacToeContainer from "../components/Tictactoe/Container";
import Profile from "../components/Profile/Container";
import Arrows from "../components/Arrows/Arrows";
import { useSwipeable } from "react-swipeable";

const pageNames: ["profile", "payment", "countdown", "tictactoe"] = ["profile", "payment", "countdown", "tictactoe"];

function Home() {
  const [page, setPage] = useState<"payment" | "countdown" | "tictactoe" | "profile">("profile");

  const gotoNextPage = () => {
    if (pageNames.indexOf(page) + 1 >= pageNames.length) {
      setPage("profile");
      return;
    }
    const nextPage = pageNames[pageNames.indexOf(page) + 1];
    setPage(nextPage);
  };

  const gotoPrevPage = () => {
    if (pageNames.indexOf(page) - 1 < 0) {
      setPage("tictactoe");
      return;
    }
    const nextPage = pageNames[pageNames.indexOf(page) - 1];
    setPage(nextPage);
  };

  const handlers = useSwipeable({
    onSwipedLeft: gotoNextPage,
    onSwipedRight: gotoPrevPage,
  });

  const pages = {
    countdown: <PaymentContainer />,
    payment: <CountdownContainer />,
    tictactoe: <TicTacToeContainer />,
    profile: <Profile />,
  };

  return (
    <>
      <Arrows gotoNextPage={gotoNextPage} gotoPrevPage={gotoPrevPage} />
      <div className="swipe-icon-container">
        <svg onClick={gotoPrevPage} className="swipe-icon" width="30px" viewBox="-10.5 0 136 136" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0)">
            <path
              d="M7.9145 102.691C8.95085 103.129 10.039 103.471 11.0918 103.802C11.4199 103.906 11.7481 104.01 12.0763 104.116C18.1528 106.009 23.8292 109.005 28.8215 112.953C36.9365 119.456 45.1479 125.574 52.109 130.701C54.0525 132.115 56.252 133.136 58.5855 133.711C62.9785 134.812 67.4875 135.385 72.0163 135.417C81.7097 135.466 91.1374 132.252 98.7837 126.294C109.468 118.221 114.871 107.922 114.838 95.6721C114.839 90.8329 114.353 86.0062 113.388 81.2641C111.573 71.9763 108.652 62.9385 104.689 54.3445C102.583 49.8893 100.134 46.4757 97.2026 43.9087C95.9654 42.7907 94.5044 41.9491 92.9173 41.4398C91.3297 40.9305 89.6514 40.7653 87.9948 40.9552C86.3152 41.1654 84.7 41.7306 83.256 42.6132C81.8121 43.496 80.5723 44.6758 79.6193 46.0746C79.3666 46.4316 79.1224 46.7965 78.8428 47.2127L78.5934 47.5822C74.9803 44.6575 71.3041 43.5372 67.37 44.1522C63.5674 44.7481 61.8916 45.99 58.1459 51.07C50.2902 46.9902 46.3037 49.5106 42.6065 55.0277C42.0027 53.8851 41.4179 52.7633 40.8423 51.6594C39.3984 48.8863 38.0304 46.2669 36.5575 43.6751C33.1721 37.7155 29.8419 31.9003 26.3279 26.2742C24.3034 23.0712 21.4724 20.4569 18.1185 18.6935C14.4194 16.7285 11.1559 17.3926 8.4183 20.6677C7.37728 21.8587 6.65044 23.2909 6.30381 24.8342C5.95718 26.3775 6.00182 27.9829 6.4336 29.5047C7.0079 31.666 7.78756 33.8037 8.54104 35.8712C8.92828 36.9305 9.31427 37.9898 9.67525 39.0564C13.9296 51.6134 19.8589 63.6592 25.5934 75.3079L26.542 77.2335C27.025 78.2181 27.468 79.2026 27.9806 80.3426C28.1512 80.722 28.3278 81.1145 28.5135 81.524L27.9931 81.4315C27.3288 81.3153 26.78 81.2195 26.2346 81.1073C19.8268 79.8025 13.1651 80.7476 7.37354 83.7845C2.96429 85.997 0.930824 89.0201 1.15726 93.0257C1.41586 97.6562 3.69034 100.908 7.9145 102.691ZM32.0853 91.9926C33.6933 93.7483 35.1595 94.2163 36.5719 93.4254C38.0447 92.5991 38.6158 91.165 38.224 89.278C37.9719 88.1616 37.5913 87.0786 37.0898 86.0501C35.3671 82.3655 33.6309 78.6867 31.8811 75.0132C28.3474 67.5598 24.6931 59.8518 21.2768 52.1956C18.8582 46.7755 16.725 41.1147 14.6622 35.6395C14.0303 33.9623 13.396 32.287 12.7589 30.6133C12.1764 29.3344 11.8976 27.938 11.9449 26.5334C12.1101 25.2242 12.7474 24.0202 13.7373 23.1474C14.0694 22.8948 15.6572 23.3154 16.5866 24.017C18.2 25.1673 19.6173 26.5701 20.784 28.1716C23.0817 31.4768 25.1816 34.9153 27.0723 38.469C30.274 44.5933 33.4387 50.8691 36.4992 56.9383C37.983 59.8808 39.4705 62.8215 40.9622 65.7601L41.0673 65.9688C41.4136 66.7459 41.8709 67.4686 42.4251 68.1144C42.779 68.5673 43.2587 68.9059 43.8038 69.0877C44.349 69.2702 44.9358 69.2873 45.4908 69.1383C46.0458 68.9886 46.5445 68.6788 46.9247 68.2476C47.3047 67.8164 47.5494 67.2835 47.6281 66.7138C47.7371 66.1158 47.7622 65.5058 47.7027 64.901C47.6712 64.4899 47.6696 64.0771 47.6976 63.6657C47.7541 63.0685 47.7967 62.4647 47.8387 61.8615C47.8993 60.1463 48.1362 58.4417 48.5456 56.7749C48.638 56.1498 48.9091 55.5648 49.3263 55.0902C49.7435 54.6157 50.2888 54.272 50.8969 54.1003C51.505 53.9288 52.1498 53.9366 52.7535 54.123C53.3572 54.3094 53.8943 54.6666 54.2998 55.1511C55.3934 56.2858 56.3156 57.5739 57.0373 58.9749C57.2388 59.3201 57.4389 59.6648 57.643 60.0021C57.9552 60.572 58.2038 61.1747 58.3837 61.7991C58.4906 62.1273 58.598 62.4503 58.7214 62.7673C59.3869 64.4738 60.6615 65.155 62.3069 64.6909C63.7896 64.2722 64.4892 63.1158 64.2759 61.4415C64.19 60.7641 64.0792 60.0894 63.9677 59.4153C63.86 58.759 63.7523 58.1092 63.6683 57.4528C63.5677 56.6916 63.5303 55.9232 63.5561 55.1557L63.5693 54.8026C63.648 52.6695 63.7228 50.6545 65.9537 49.7277C68.7543 48.5627 71.4105 48.9829 73.4359 50.9092C74.4276 51.9529 75.2783 53.1224 75.9661 54.3877C76.1879 54.7553 76.4085 55.1216 76.6349 55.48C76.8568 55.8577 77.0477 56.2528 77.2059 56.6613C77.435 57.3306 77.7947 57.9476 78.2646 58.4767C79.0588 59.2558 80.4482 59.9404 81.4058 59.7362C82.3634 59.5321 83.344 58.3317 83.7325 57.2908C83.9964 56.4635 84.1447 55.6035 84.1723 54.7356C84.211 54.2427 84.2504 53.7334 84.3351 53.2537C84.4886 52.1667 84.7564 51.0989 85.1332 50.0678C85.8328 48.3331 86.9709 47.1989 88.3453 46.874C89.0239 46.7497 89.7229 46.7923 90.3812 46.9982C91.0402 47.204 91.6388 47.5668 92.1258 48.0554C94.3245 49.9877 97.0405 52.5894 98.5257 55.581C104.409 67.4226 107.813 79.5084 108.643 91.5043C108.684 92.0989 108.672 92.7146 108.661 93.3099C108.655 93.598 108.65 93.8855 108.65 94.173V94.1868C109.419 113.136 89.0856 126.523 74.7493 127.414C63.7883 128.098 54.7636 125.086 47.1705 118.213C41.8003 113.352 35.9918 108.779 31.018 104.948C26.0075 101.05 20.3051 98.1353 14.2113 96.3566L14.0539 96.3113C12.498 95.9175 10.9841 95.3721 9.53421 94.6836C8.20906 93.9938 7.42677 93.0913 7.3316 92.1423C7.24037 91.2286 7.76354 90.2835 8.84584 89.4099C10.3523 88.1701 12.1013 87.2591 13.9808 86.7354C15.9076 86.2155 17.8924 85.9418 19.8879 85.9202C22.876 85.8723 25.8109 86.7157 28.3174 88.3434C29.5005 89.2006 30.5688 90.2061 31.4965 91.335C31.6915 91.5562 31.8877 91.7754 32.0853 91.9913V91.9926Z"
              fill="#000000"
            />
            <path
              d="M45.6002 15.1755C56.3722 15.5141 66.7243 19.4307 75.0231 26.307C75.3434 26.5656 75.661 26.8321 75.978 27.0946C76.8608 27.8271 77.7731 28.5845 78.7412 29.2395C79.456 29.7815 80.3158 30.0991 81.211 30.1518C81.5779 30.1487 81.9409 30.0698 82.2763 29.9202C82.611 29.7705 82.9122 29.5533 83.1597 29.2822C84.9318 27.4838 83.4137 25.547 82.9149 24.9103C82.2205 24.0014 81.4348 23.1658 80.5711 22.4162C72.7928 15.8128 64.1987 11.6451 55.029 10.0292C52.8198 9.63997 50.6137 9.44897 48.2772 9.24682C47.4239 9.17266 46.5648 9.09849 45.6925 9.01251C45.9949 8.6892 46.2929 8.37212 46.586 8.06141C47.5987 6.98504 48.5548 5.96908 49.4678 4.91106C50.5264 3.68502 50.6204 2.41106 49.7238 1.41802C48.3744 -0.0817142 46.8898 0.943475 46.0024 1.55518C42.3473 4.0788 38.7704 6.54338 35.2084 8.93441C33.179 10.2983 32.1053 11.8597 32.1046 13.4507C32.1046 14.9189 33.0331 16.3215 34.7953 17.5062C37.7417 19.3863 40.819 21.0533 44.0033 22.4943L45.447 23.1913C46.5479 23.6068 47.7365 23.7356 48.9008 23.5655C49.2733 23.5671 49.6403 23.4755 49.9684 23.2989C50.2963 23.1224 50.5747 22.8665 50.7785 22.5547C50.9327 22.2317 51.0036 21.8751 50.9842 21.5177C50.9649 21.1602 50.8559 20.8134 50.6676 20.5089C50.0636 19.392 49.2451 18.4052 48.2589 17.6053C47.4165 16.9512 46.5238 16.3645 45.589 15.8509C45.3068 15.6848 45.0102 15.5102 44.6984 15.3258L44.7725 15.3101C45.0423 15.234 45.3201 15.1888 45.6002 15.1755Z"
              fill="#000000"
            />
          </g>
          <defs>
            <clipPath id="clip0">
              <rect width="114.203" height="135.206" fill="white" transform="translate(0.659912 0.447266)" />
            </clipPath>
          </defs>
        </svg>
        <svg onClick={gotoNextPage} className="swipe-icon" width="30px" viewBox="-10.5 0 136 136" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0)">
            <path
              d="M110.403 85.2461C108.943 84.1559 107.34 83.2712 105.639 82.6174C99.5644 80.2546 93.8844 79.8326 88.2708 81.3264C87.9255 81.4006 87.5737 81.44 87.2206 81.4439L86.8924 81.4623C87.3368 80.6051 87.7726 79.7775 88.1992 78.9682C89.2795 76.9198 90.2995 74.9855 91.2223 73.006L92.5678 70.1267C97.9215 58.6677 103.458 46.8182 107.649 34.63C108.844 31.156 109.344 28.2208 109.18 25.6559C108.97 22.3847 107.387 19.7751 104.834 18.4972C102.24 17.1983 99.0144 17.5186 96.2033 19.3538C94.7107 20.2203 93.3777 21.3354 92.2613 22.6511L91.3733 23.8227C88.5464 27.401 85.9381 31.1465 83.5628 35.0389C81.1088 39.2512 78.8517 43.6678 76.6713 47.9386C75.6212 49.9929 74.571 52.0473 73.4966 54.0878C73.3371 54.3439 73.1402 54.5746 72.9124 54.7724C72.8823 54.8026 72.8508 54.832 72.8206 54.8616C68.156 48.3638 65.0993 47.6459 57.1267 51.1284C55.6999 47.2744 52.7862 44.9339 48.4629 44.1673C44.2676 43.423 40.5319 44.5295 37.0533 47.548C36.9818 47.4745 36.9163 47.4089 36.8565 47.3478C36.6984 47.2013 36.5536 47.041 36.4239 46.8688C33.8701 43.1276 30.402 40.9545 26.6589 40.753C23.0045 40.56 19.4516 42.2724 16.6287 45.5823C14.3111 48.3527 12.3384 51.3941 10.7533 54.6397C6.52586 63.1065 4.22128 72.3694 2.18729 80.5395C0.784907 86.3658 0.292027 92.3732 0.726237 98.3499C1.30119 107.762 5.28212 115.997 12.5577 122.831C21.4596 131.189 31.9326 135.411 43.7375 135.411C45.0174 135.411 46.3131 135.361 47.6249 135.261C53.3009 134.83 59.8604 133.799 65.4649 129.42C68.0063 127.433 70.6166 125.444 73.1402 123.521C77.4622 120.228 81.9299 116.826 86.2013 113.318C91.5032 109.038 97.5796 105.819 104.1 103.838C106.287 103.221 108.367 102.27 110.265 101.02C111.522 100.146 112.555 98.9865 113.277 97.6364C114 96.2863 114.393 94.784 114.423 93.2527C114.434 91.6953 114.075 90.1575 113.376 88.766C112.677 87.3739 111.658 86.1676 110.403 85.2461ZM6.50092 93.7785C6.67286 92.494 6.82303 91.2043 6.97333 89.9153C7.28483 86.7832 7.75575 83.6695 8.38439 80.5854C10.4053 71.5076 12.7098 64.3082 15.6377 57.9214C17.249 54.3717 19.5872 51.1995 22.5011 48.61C24.2266 47.0813 26.0045 46.4913 27.5095 46.9494C29.0283 47.4128 30.1881 48.9184 30.7748 51.1848C31.0683 52.4413 31.2748 53.7165 31.393 55.0014C31.4495 55.4898 31.5053 55.9781 31.5716 56.4644C31.7626 57.8841 32.2028 59.389 34.0229 59.7848C35.6519 60.1379 36.911 59.4212 37.8679 57.5906C38.1633 57.0268 38.45 56.4571 38.7355 55.8841C39.2934 54.773 39.8704 53.6244 40.5077 52.5447C40.999 51.7069 41.6608 50.9818 42.4505 50.4164C43.2402 49.851 44.1401 49.4581 45.0915 49.263C47.1564 48.7826 48.8688 49.0005 50.0423 49.8997C51.1915 50.7772 51.84 52.3202 51.9161 54.3628C51.9318 55.6134 51.8591 56.8635 51.6988 58.1039C51.6555 58.518 51.6116 58.9315 51.5742 59.3444C51.5427 59.6955 51.4777 60.0421 51.4088 60.409C51.3219 60.827 51.2599 61.2497 51.2236 61.675C51.1612 62.3417 51.3381 63.0088 51.7222 63.5572C52.1063 64.1056 52.6729 64.4996 53.3208 64.6687C53.9686 64.8378 54.6555 64.7711 55.2587 64.4805C55.8619 64.1899 56.3419 63.6943 56.6133 63.0823C56.8496 62.5513 57.0557 61.9979 57.2552 61.463C57.5663 60.5388 57.9643 59.6461 58.4439 58.797C59.275 57.2708 60.3724 55.9055 61.6843 54.7658C62.0993 54.4057 62.5966 54.153 63.1322 54.03C63.6677 53.9069 64.2254 53.9174 64.756 54.0602C65.2622 54.2438 65.7154 54.5489 66.076 54.9488C66.437 55.3486 66.6936 55.831 66.8243 56.3534C67.2942 58.0843 67.5817 59.8595 67.6821 61.6501C67.73 62.1752 67.7779 62.695 67.8344 63.2129C67.8606 63.6186 67.8455 64.026 67.7878 64.4284C67.6755 65.0434 67.6998 65.6756 67.8606 66.2799C68.2301 67.3353 69.0604 68.5994 70.0127 68.8816C70.9651 69.1638 72.266 68.4832 73.1973 67.8643C73.702 67.4416 74.0801 66.887 74.2908 66.2628C74.3689 66.0902 74.4463 65.9196 74.527 65.7588C75.9631 62.933 77.3926 60.1042 78.8169 57.2723C81.9325 51.0929 85.1538 44.7028 88.4138 38.4657C90.2923 34.9065 92.3899 31.4672 94.695 28.1677C95.9263 26.4757 97.426 24.9957 99.1338 23.7859C100.234 22.9727 101.344 22.7405 102.178 23.1454C103.035 23.5609 103.552 24.6143 103.596 26.0333C103.6 27.5596 103.319 29.0731 102.768 30.4963C102.343 31.6638 101.921 32.8336 101.503 34.0058C99.8663 38.5673 98.1736 43.2838 96.1639 47.7601C92.554 55.7943 88.7591 63.906 85.0882 71.7511C82.9229 76.3776 80.7662 81.0074 78.6173 85.6405C77.8645 87.0595 77.4143 88.6197 77.2948 90.2218C77.2856 91.3441 78.2846 92.7355 79.2153 93.3807C80.331 94.1539 81.7927 93.7962 82.9433 92.4743C83.1914 92.1895 83.4093 91.8836 83.6206 91.5863C83.7972 91.3382 83.9731 91.0908 84.166 90.8578C86.4179 88.1372 90.5469 86.3067 95.2109 85.9615C99.7225 85.6274 103.907 86.7675 106.407 89.0108C107.645 90.1266 108.235 91.2233 108.113 92.1928C107.991 93.1622 107.194 94.0253 105.75 94.7748C104.873 95.227 103.949 95.5795 102.994 95.8249C95.2398 97.8366 88.0784 101.682 81.1009 107.581C76.8754 111.154 72.3119 114.97 67.5692 118.673C64.7903 120.839 61.7672 122.805 58.8438 124.703L58.7349 124.773C55.7663 126.702 52.2475 126.987 48.8443 127.262L48.5261 127.287C34.0867 128.462 22.1681 123.446 13.114 112.382C8.56883 106.826 6.56369 100.692 7.15376 94.148L7.18677 93.7831L6.50092 93.7785Z"
              fill="#000000"
            />
            <path
              d="M34.3109 30.0876C34.955 30.0726 35.5825 29.8792 36.1232 29.529C37.3714 28.7506 38.5595 27.8796 39.6774 26.9233C48.3889 19.6071 58.3174 15.6553 69.1949 15.1749C69.655 15.1781 70.1138 15.2296 70.5634 15.3285L70.6664 15.3469C70.3744 15.5274 70.0934 15.6993 69.8204 15.8654C68.7794 16.5 67.8803 17.0468 67.0323 17.6894C65.6005 18.7684 64.6214 20.2202 64.5381 21.3872C64.5101 21.6199 64.5337 21.8558 64.607 22.0785C64.6802 22.3011 64.8014 22.5049 64.9621 22.6755C66.2053 23.9311 68.0509 24.1071 70.0252 23.1587L71.0668 22.6592C74.3905 21.165 77.6033 19.4342 80.6795 17.48C82.4654 16.2822 83.4099 14.8671 83.4118 13.387C83.4118 11.8053 82.3558 10.2564 80.352 8.90694C77.2219 6.79942 73.8923 4.52384 69.5559 1.52897C68.6035 0.872632 67.1655 -0.121059 65.8345 1.32026C64.8433 2.39337 64.9698 3.66016 66.2112 5.08507C67.0756 6.07614 67.9984 7.03375 68.975 8.04845C69.3091 8.39499 69.6524 8.75132 70.0048 9.12149C69.9805 9.13331 69.9556 9.14361 69.9307 9.15234C69.4922 9.18188 69.0525 9.2101 68.6127 9.2101H68.6088C56.922 9.2101 46.0963 13.3568 35.5089 21.886C34.3041 22.9251 33.2185 24.0952 32.2724 25.3744C31.2558 26.6641 31.2677 28.0904 32.3054 29.1891C32.5586 29.4705 32.8675 29.6958 33.213 29.8505C33.5585 30.0052 33.9324 30.086 34.3109 30.0876Z"
              fill="#000000"
            />
          </g>
          <defs>
            <clipPath id="clip0">
              <rect width="114.859" height="135.206" fill="white" transform="translate(0.09375 0.447266)" />
            </clipPath>
          </defs>
        </svg>
      </div>
      <div {...handlers} id="page-container">
        {pages[page]}
      </div>
    </>
  );
}

export default Home;
